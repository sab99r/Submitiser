/*
 * SUBMITISER
 * version: 1.0
 * author: SABEER (sab99r)
 * url: https://github.com/sab99r/submitiser
 */
function post(o,s){if(""!=s.val().trim()&&s.data("def-value")!=s.val()){var t={id:s.data("id")};t[s.attr("name")]=s.val(),$.post(o.url,t,function(t){if(s.data("def-value",s.val()),void 0!==t.status){var c=s.css("color");"success"==t.status?(s.css("color",o.successColor),setTimeout(function(){s.css("color",c)},o.colorTimeOut)):s.css("color",o.failedColor)}"function"==typeof o.onSuccess&&o.onSuccess.call(s,t)},"json")}}$.fn.submitise=function(o){var s=$.extend({},{url:"",submitOnEnter:!0,submitOnFocusOut:!0,successColor:"#00b159",failedColor:"#d11141",colorTimeOut:2e3,onSuccess:function(o,s){}},o);this.each(function(){var o=$(this);o.data("def-value",o.val()),s.submitOnFocusOut&&o.focusout(function(){post(s,o)}),s.submitOnEnter&&o.on("keypress",function(t){13==t.keyCode&&post(s,o)})})};